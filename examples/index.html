<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">                                                                                         
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta content="text/html;charset=UTF-8" http-equiv="Content-Type"/>
  <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
  <title></title>

  <script src="../dist/jstags.js" type="text/javascript"></script>

</head>
<body>

  <div class='content'>
This is a simple prompt for paragraph (textarea) text input:

[prompt:paragraph:Placeholder]

This is a flexible form with specifiable inputs:

[form]
 [text]
[/form]

[form]
 [text]
 [text:Email]
[/form]

[form:Submit]
 [text]
 [select]
[/form]

Then this is additional text.

## Markdown allowed
</div>

  <script>

    var el;

    (function() {

      el = document.getElementsByClassName('content')[0]

      var regex = /\[form:*(\w*)\](\s*\[[^\/].*\]\s*)*\[\/form\]/g;
      el.innerHTML = el.innerHTML.replace(regex, function replaceFormTag(match, p1, p2) {

        var o = '';
        o += '<form id="UNIQUE" class="form-control">';

        var innerTag = p2.replace(/\[(\w+):*(\w+)*\]/, function replaceInnerTag(m, pp1, pp2) {

          var placeholder = pp2 || "";
          var input = '';
          input += '<input type="text" placeholder="' + placeholder + '" />';
          return input;

        });

        o += innerTag;
        var submit = p1 || "Add";
        o += '<br /><button class="btn btn-default" type="submit">' + submit  + '</button></form>';

        return o;

      })

    })();

  </script>

</body>
</html>
